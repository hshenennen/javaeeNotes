
---

# ğŸ§µ Java å­—ç¬¦ä¸²ï¼ˆ`String`ï¼‰çš„åŸºæœ¬è®¤è¯†

> [!info] å­¦ä¹ ç›®æ ‡
> - ç†è§£ `String` æ˜¯å¼•ç”¨ç±»å‹ï¼ˆä¸æ˜¯åŸºæœ¬ç±»å‹ï¼‰  
> - æŒæ¡å­—ç¬¦ä¸²çš„ä¸¤ç§åˆ›å»ºæ–¹å¼ï¼ˆå­—é¢é‡ vs `new`ï¼‰  
> - ç†è§£ **å­—ç¬¦ä¸²ä¸å¯å˜æ€§ï¼ˆImmutabilityï¼‰**  
> - èƒ½ä½¿ç”¨ `+` è¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥  
> - äº†è§£å­—ç¬¦ä¸²ä¸å­—ç¬¦æ•°ç»„ã€`char` çš„å…³ç³»  
> - åˆæ­¥è®¤è¯†å­—ç¬¦ä¸²åœ¨å†…å­˜ä¸­çš„å­˜å‚¨ï¼ˆå­—ç¬¦ä¸²å¸¸é‡æ± ï¼‰

> ğŸ·ï¸ æ ‡ç­¾ï¼š`#java/String` `#å¼•ç”¨ç±»å‹` `#å­—ç¬¦ä¸²åŸºç¡€` `#å†…å­˜æ¨¡å‹`

---

## 1. ä»€ä¹ˆæ˜¯ `String`ï¼Ÿ

- `String` æ˜¯ Java ä¸­è¡¨ç¤º**ä¸€ä¸²å­—ç¬¦**çš„ç±»ï¼ˆ`java.lang.String`ï¼‰
- å±äº **å¼•ç”¨ç±»å‹ï¼ˆReference Typeï¼‰**ï¼Œä¸æ˜¯åŸºæœ¬æ•°æ®ç±»å‹
- ç”¨ **åŒå¼•å· `" "`** åŒ…è£¹
- **ä¸å¯å˜ï¼ˆImmutableï¼‰**ï¼šä¸€æ—¦åˆ›å»ºï¼Œå†…å®¹ä¸èƒ½æ›´æ”¹

### âœ… ç¤ºä¾‹ï¼š
```java
String name = "Alice";
String message = "Hello, World!";
String empty = "";        // ç©ºå­—ç¬¦ä¸²ï¼ˆé•¿åº¦ä¸º 0ï¼‰
String space = "   ";     // åŒ…å«ç©ºæ ¼çš„å­—ç¬¦ä¸²
```

> âš ï¸ æ³¨æ„ï¼š`'A'` æ˜¯ `char`ï¼ˆå•å¼•å·ï¼‰ï¼Œ`"A"` æ˜¯ `String`ï¼ˆåŒå¼•å·ï¼‰

---

## 2. åˆ›å»ºå­—ç¬¦ä¸²çš„ä¸¤ç§æ–¹å¼

| æ–¹å¼          | è¯­æ³•                                | è¯´æ˜                         |
| ----------- | --------------------------------- | -------------------------- |
| **å­—ç¬¦ä¸²å­—é¢é‡**  | `String s = "Hello";`             | æ¨èï¼è‡ªåŠ¨æ”¾å…¥**å­—ç¬¦ä¸²å¸¸é‡æ± **ï¼ŒèŠ‚çœå†…å­˜     |
| **new å…³é”®å­—** | `String s = new String("Hello");` | å¼ºåˆ¶åœ¨å †ä¸­åˆ›å»ºæ–°å¯¹è±¡ï¼Œ**ä¸æ¨è**ï¼ˆé™¤éç‰¹æ®Šéœ€æ±‚ï¼‰ |

### ğŸ” å†…å­˜å¯¹æ¯”ï¼ˆé‡è¦ï¼ï¼‰
```java
String a = "Java";
String b = "Java";
System.out.println(a == b); // trueï¼ˆæŒ‡å‘å¸¸é‡æ± åŒä¸€ä¸ªå¯¹è±¡ï¼‰

String c = new String("Java");
String d = new String("Java");
System.out.println(c == d); // falseï¼ˆå †ä¸­ä¸¤ä¸ªä¸åŒå¯¹è±¡ï¼‰
System.out.println(c.equals(d)); // trueï¼ˆå†…å®¹ç›¸åŒï¼‰
```

> ğŸ’¡ åˆå­¦å»ºè®®ï¼š**å§‹ç»ˆä½¿ç”¨å­—é¢é‡æ–¹å¼**ï¼ˆ`"..."`ï¼‰ï¼Œé™¤éæ˜ç¡®éœ€è¦ `new`

---

## 3. å­—ç¬¦ä¸²çš„æ ¸å¿ƒç‰¹æ€§

### âœ… 1. **ä¸å¯å˜æ€§ï¼ˆImmutabilityï¼‰**
- ä»»ä½•â€œä¿®æ”¹â€æ“ä½œï¼ˆå¦‚æ‹¼æ¥ã€è½¬å¤§å†™ï¼‰éƒ½ä¼š**è¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²**
- åŸå­—ç¬¦ä¸²**ä¸ä¼šæ”¹å˜**

```java
String s = "hello";
s.toUpperCase(); // è¿”å› "HELLO"ï¼Œä½† s ä»æ˜¯ "hello"
String upper = s.toUpperCase(); // æ­£ç¡®ï¼šæ¥æ”¶æ–°å­—ç¬¦ä¸²
System.out.println(s);     // hello
System.out.println(upper); // HELLO
```

> ğŸŒŸ ä¼˜ç‚¹ï¼šçº¿ç¨‹å®‰å…¨ã€å¯ç¼“å­˜å“ˆå¸Œå€¼ã€é€‚åˆç”¨ä½œ Map çš„ key

---

### âœ… 2. **å­—ç¬¦ä¸²æ‹¼æ¥ï¼ˆ`+` æ“ä½œç¬¦ï¼‰**
- ä½¿ç”¨ `+` è¿æ¥å­—ç¬¦ä¸²ä¸å…¶ä»–ç±»å‹
- ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ä¼˜åŒ–ï¼ˆå†…éƒ¨ä½¿ç”¨ `StringBuilder`ï¼‰

```java
String name = "Tom";
int age = 20;
String info = "å§“å: " + name + ", å¹´é¾„: " + age;
System.out.println(info); // å§“å: Tom, å¹´é¾„: 20
```

> âš ï¸ åœ¨å¾ªç¯ä¸­é¢‘ç¹æ‹¼æ¥ï¼Ÿâ†’ æ”¹ç”¨ `StringBuilder`ï¼ˆåç»­å­¦ä¹ ï¼‰

---

### âœ… 3. **è·å–å­—ç¬¦ä¸²é•¿åº¦**
```java
String s = "Hello";
int len = s.length(); // æ³¨æ„ï¼šæ˜¯æ–¹æ³•ï¼Œä¸æ˜¯å±æ€§ï¼
System.out.println(len); // 5
```

> âŒ é”™è¯¯ï¼š`s.length`ï¼ˆè¿™æ˜¯æ•°ç»„çš„å†™æ³•ï¼‰

---

### âœ… 4. **è®¿é—®å•ä¸ªå­—ç¬¦**
ä½¿ç”¨ `charAt(int index)` è·å–æŒ‡å®šä½ç½®çš„ `char`ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰

```java
String s = "Java";
char c = s.charAt(0); // 'J'
char last = s.charAt(s.length() - 1); // 'a'
```

> âš ï¸ ç´¢å¼•è¶Šç•Œä¼šæŠ›å‡º `StringIndexOutOfBoundsException`

---

## 4. `String` ä¸ `char` / `char[]` çš„å…³ç³»

| ç±»å‹ | è¯´æ˜ | è½¬æ¢æ–¹å¼ |
|------|------|--------|
| `char` | å•ä¸ªå­—ç¬¦ | `s.charAt(i)` â†’ `char` |
| `char[]` | å­—ç¬¦æ•°ç»„ | `s.toCharArray()` â†’ `char[]` |
| `String` | å­—ç¬¦ä¸² | `new String(charArray)` â†’ `String` |

### ğŸ” ç¤ºä¾‹ï¼šäº’è½¬
```java
// String â†’ char[]
String s = "Hello";
char[] chars = s.toCharArray(); // ['H','e','l','l','o']

// char[] â†’ String
char[] arr = {'J', 'a', 'v', 'a'};
String str = new String(arr); // "Java"
```

---

## 5. å­—ç¬¦ä¸²æ¯”è¾ƒï¼š`==` vs `equals()`

| æ¯”è¾ƒæ–¹å¼ | ä½œç”¨ | æ˜¯å¦æ¨è |
|--------|------|--------|
| `==` | æ¯”è¾ƒ**å¼•ç”¨åœ°å€**ï¼ˆæ˜¯å¦åŒä¸€ä¸ªå¯¹è±¡ï¼‰ | âŒ ä¸æ¨èç”¨äºå†…å®¹æ¯”è¾ƒ |
| `equals()` | æ¯”è¾ƒ**å†…å®¹æ˜¯å¦ç›¸åŒ** | âœ… å¿…é¡»ç”¨å®ƒï¼ |

### ğŸ’¡ ç¤ºä¾‹ï¼š
```java
String a = "hello";
String b = new String("hello");

System.out.println(a == b);        // falseï¼ˆä¸åŒå¯¹è±¡ï¼‰
System.out.println(a.equals(b));   // trueï¼ˆå†…å®¹ç›¸åŒï¼‰
```

> âœ… **é»„é‡‘æ³•åˆ™**ï¼š**æ°¸è¿œç”¨ `equals()` æ¯”è¾ƒå­—ç¬¦ä¸²å†…å®¹ï¼**

---

## 6. å°ç»ƒä¹ ï¼šéªŒè¯ç†è§£

### ğŸ’¬ é—®é¢˜ï¼šä»¥ä¸‹ä»£ç è¾“å‡ºä»€ä¹ˆï¼Ÿ
```java
String x = "abc";
String y = "abc";
String z = new String("abc");

System.out.println(x == y);      // ?
System.out.println(x == z);      // ?
System.out.println(x.equals(z)); // ?
```

<details>
<summary>âœ… ç­”æ¡ˆ</summary>

```
true
false
true
```

> ğŸ’¡ è§£æï¼š
> - `x` å’Œ `y` éƒ½æŒ‡å‘å¸¸é‡æ± ä¸­çš„åŒä¸€ä¸ª `"abc"` å¯¹è±¡ â†’ `==` ä¸º `true`
> - `z` æ˜¯ `new` å‡ºæ¥çš„å †å¯¹è±¡ï¼Œåœ°å€ä¸åŒ â†’ `x == z` ä¸º `false`
> - ä½†å†…å®¹éƒ½æ˜¯ `"abc"` â†’ `equals()` ä¸º `true`
</details>





---

> âœ… **æ€»ç»“**ï¼š  
> `String` æ˜¯ Java ä¸­æœ€å¸¸ç”¨ã€æœ€é‡è¦çš„ç±»ä¹‹ä¸€ã€‚æŒæ¡å®ƒçš„**ä¸å¯å˜æ€§ã€åˆ›å»ºæ–¹å¼ã€æ‹¼æ¥ã€æ¯”è¾ƒã€ä¸ char çš„å…³ç³»**ï¼Œæ˜¯åç»­å­¦ä¹ å­—ç¬¦ä¸²å¤„ç†ã€æ–‡ä»¶è¯»å†™ã€ç½‘ç»œç¼–ç¨‹çš„åŸºç¡€ï¼

---




