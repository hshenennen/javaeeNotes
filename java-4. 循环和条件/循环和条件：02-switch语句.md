

---

# Java ä¸­çš„ `switch` è¯­å¥ï¼ˆå¤šåˆ†æ”¯é€‰æ‹©ï¼‰

> [!info] å­¦ä¹ ç›®æ ‡
> - æŒæ¡ `switch` çš„åŸºæœ¬è¯­æ³•å’Œæ‰§è¡Œæµç¨‹
> - ç†è§£ `case`ã€`break`ã€`default` çš„ä½œç”¨
> - äº†è§£ `switch` æ”¯æŒçš„æ•°æ®ç±»å‹ï¼ˆå« Java 17+ æ–°ç‰¹æ€§ï¼‰
> - èƒ½æ­£ç¡®ä½¿ç”¨ `switch` æ›¿ä»£å¤æ‚çš„ `if-else if` é“¾
> - é¿å…â€œç©¿é€â€ï¼ˆfall-throughï¼‰é™·é˜±

---

## 1. ä»€ä¹ˆæ˜¯ `switch` è¯­å¥ï¼Ÿ

`switch` æ˜¯ä¸€ç§**å¤šåˆ†æ”¯é€‰æ‹©ç»“æ„**ï¼Œç”¨äºæ ¹æ®**ä¸€ä¸ªå˜é‡çš„å€¼**ï¼Œä»å¤šä¸ªé€‰é¡¹ä¸­é€‰æ‹©æ‰§è¡Œè·¯å¾„ã€‚

> ğŸ’¡ é€‚ç”¨åœºæ™¯ï¼š**ç­‰å€¼åˆ¤æ–­**ï¼ˆå¦‚èœå•é€‰é¡¹ã€çŠ¶æ€ç ã€æ˜ŸæœŸå‡ ï¼‰

---

## 2. åŸºæœ¬è¯­æ³•ï¼ˆä¼ ç»Ÿå½¢å¼ï¼‰

```java
switch (è¡¨è¾¾å¼) {
    case å€¼1:
        // ä»£ç å—1
        break;
    case å€¼2:
        // ä»£ç å—2
        break;
    // ... æ›´å¤š case
    default:
        // é»˜è®¤æ‰§è¡Œï¼ˆå¯é€‰ï¼‰
}
```

### ğŸŒ° ç¤ºä¾‹ï¼šæ ¹æ®æˆç»©ç­‰çº§è¾“å‡ºè¯„è¯­
```java
char grade = 'B';

switch (grade) {
    case 'A':
        System.out.println("ä¼˜ç§€ï¼");
        break;
    case 'B':
        System.out.println("è‰¯å¥½ï¼");
        break;
    case 'C':
        System.out.println("åŠæ ¼");
        break;
    default:
        System.out.println("æ— æ•ˆç­‰çº§");
}
// è¾“å‡ºï¼šè‰¯å¥½ï¼
```

---

## 3. å…³é”®ç»„æˆéƒ¨åˆ†è¯´æ˜

| å…³é”®å­— | ä½œç”¨ |
|--------|------|
| `switch (è¡¨è¾¾å¼)` | è¡¨è¾¾å¼ç»“æœç”¨äºåŒ¹é… `case` |
| `case å€¼:` | æ¯ä¸ªå¯èƒ½çš„åŒ¹é…å€¼ï¼ˆå¿…é¡»æ˜¯**å¸¸é‡**ï¼‰ |
| `break;` | **è·³å‡º `switch`**ï¼Œé˜²æ­¢ç»§ç»­æ‰§è¡Œåç»­ `case` |
| `default:` | æ‰€æœ‰ `case` éƒ½ä¸åŒ¹é…æ—¶æ‰§è¡Œï¼ˆå¯çœç•¥ï¼‰ |

---

## 4. `switch` æ”¯æŒçš„æ•°æ®ç±»å‹

| Java ç‰ˆæœ¬ | æ”¯æŒçš„ç±»å‹ |
|----------|-----------|
| Java 1~4 | `byte`, `short`, `int`, `char` |
| Java 5+  | + **æšä¸¾ç±»å‹ï¼ˆ`enum`ï¼‰** |
| Java 7+  | + **`String`** |
| Java 14+ | + **`switch` è¡¨è¾¾å¼ï¼ˆæ–°è¯­æ³•ï¼‰** |
| Java 17+ | æ¨èä½¿ç”¨æ–°è¯­æ³•ï¼ˆæ›´å®‰å…¨ç®€æ´ï¼‰ |

> âœ… **åˆå­¦è€…å¸¸ç”¨**ï¼š`int`ã€`char`ã€`String`

### ğŸŒ° String ç¤ºä¾‹ï¼ˆJava 7+ï¼‰
```java
String day = "Monday";
switch (day) {
    case "Monday":
        System.out.println("æ˜ŸæœŸä¸€");
        break;
    case "Friday":
        System.out.println("æ˜ŸæœŸäº”");
        break;
    default:
        System.out.println("å…¶ä»–æ—¥å­");
}
```

---

## 5. âš ï¸ é‡è¦é™·é˜±ï¼šç©¿é€ï¼ˆFall-throughï¼‰

å¦‚æœ **å¿˜è®°å†™ `break`**ï¼Œç¨‹åºä¼š**ç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ª `case` çš„ä»£ç **ï¼Œç›´åˆ°é‡åˆ° `break` æˆ– `switch` ç»“æŸï¼

### âŒ å±é™©ç¤ºä¾‹
```java
int num = 2;
switch (num) {
    case 1:
        System.out.println("ä¸€");
    case 2:
        System.out.println("äºŒ");
    case 3:
        System.out.println("ä¸‰");
        break;
}
// è¾“å‡ºï¼š
// äºŒ
// ä¸‰
```

> ğŸ’¡ æœ‰æ—¶ä¼š**æ•…æ„åˆ©ç”¨ç©¿é€**ï¼ˆå¦‚å¤šä¸ª case å…±äº«åŒä¸€é€»è¾‘ï¼‰ï¼Œä½†éœ€åŠ æ³¨é‡Šè¯´æ˜ã€‚

---

## 6. `default` çš„ä½ç½®

- `default` **å¯ä»¥æ”¾åœ¨ä»»æ„ä½ç½®**ï¼ˆä¸ä¸€å®šè¦æœ€åï¼‰ï¼Œä½†**ä¹ æƒ¯ä¸Šæ”¾æœ€å**
- å¦‚æœæ²¡æœ‰åŒ¹é…çš„ `case`ï¼Œä¸”æœ‰ `default`ï¼Œåˆ™æ‰§è¡Œ `default`

```java
switch (x) {
    default:
        System.out.println("é»˜è®¤");
        break;
    case 1:
        System.out.println("ä¸€");
        break;
}
```

---

## 7. Java 14+ æ–°è¯­æ³•ï¼š`switch` è¡¨è¾¾å¼ï¼ˆæ¨èï¼ï¼‰

æ›´ç®€æ´ã€å®‰å…¨ï¼Œ**è‡ªåŠ¨é˜²æ­¢ç©¿é€**ï¼Œæ”¯æŒè¿”å›å€¼ã€‚

### è¯­æ³•ç‰¹ç‚¹ï¼š
- ä½¿ç”¨ `->` æ›¿ä»£ `:`
- æ¯ä¸ªåˆ†æ”¯**è‡ªåŠ¨ç»“æŸ**ï¼ˆæ— éœ€ `break`ï¼‰
- å¯ä½œä¸º**è¡¨è¾¾å¼**è¿”å›å€¼

### ğŸŒ° æ–°è¯­æ³•ç¤ºä¾‹
```java
String day = "SUN";
String result = switch (day) {
    case "MON", "TUE", "WED", "THU", "FRI" -> "å·¥ä½œæ—¥";
    case "SAT", "SUN" -> "å‘¨æœ«";
    default -> "æ— æ•ˆè¾“å…¥";
};
System.out.println(result); // å‘¨æœ«
```

> âœ… **ä¼˜ç‚¹**ï¼šæ›´å°‘é”™è¯¯ã€æ›´æ˜“è¯»ã€æ”¯æŒå¤šæ ‡ç­¾ï¼ˆ`case "A", "B"`ï¼‰

> ğŸ’¡ åˆå­¦è€…å¯å…ˆæŒæ¡ä¼ ç»Ÿè¯­æ³•ï¼Œåç»­å‡çº§åˆ°æ–°è¯­æ³•ã€‚

---

## 8. `switch` vs `if-else if`

| å¯¹æ¯”é¡¹ | `switch` | `if-else if` |
|--------|---------|-------------|
| é€‚ç”¨åœºæ™¯ | **ç­‰å€¼åˆ¤æ–­**ï¼ˆç¦»æ•£å€¼ï¼‰ | **åŒºé—´åˆ¤æ–­**ã€**å¤æ‚æ¡ä»¶**ï¼ˆå¦‚ `x > 10 && y < 5`ï¼‰ |
| å¯è¯»æ€§ | å¤šåˆ†æ”¯æ—¶æ›´æ¸…æ™° | åˆ†æ”¯å°‘æ—¶ç®€æ´ |
| æ€§èƒ½ | ç¼–è¯‘åå¯èƒ½ä¼˜åŒ–ä¸ºè·³è½¬è¡¨ï¼ˆæ›´å¿«ï¼‰ | é€ä¸ªåˆ¤æ–­ |
| çµæ´»æ€§ | åªèƒ½åˆ¤æ–­ä¸€ä¸ªè¡¨è¾¾å¼ | å¯ç»„åˆä»»æ„å¸ƒå°”è¡¨è¾¾å¼ |

> âœ… **å»ºè®®**ï¼š  
> - åˆ¤æ–­æ˜ŸæœŸã€èœå•ã€çŠ¶æ€ç  â†’ ç”¨ `switch`  
> - åˆ¤æ–­æˆç»©åŒºé—´ï¼ˆ90~100ï¼‰ã€å¹´é¾„èŒƒå›´ â†’ ç”¨ `if`

---

## 9. å°ç»ƒä¹ 

å†™å‡ºä»¥ä¸‹ä»£ç çš„è¾“å‡ºï¼š

```java
int x = 1;
switch (x) {
    case 1:
        System.out.print("A");
    case 2:
        System.out.print("B");
        break;
    case 3:
        System.out.print("C");
    default:
        System.out.print("D");
}
```

<details>
<summary>âœ… ç­”æ¡ˆ</summary>

- `x = 1`ï¼ŒåŒ¹é… `case 1`
- æ‰§è¡Œ `print("A")`
- **æ²¡æœ‰ break**ï¼Œç»§ç»­æ‰§è¡Œ `case 2`ï¼š`print("B")`
- é‡åˆ° `break`ï¼Œç»“æŸ
- è¾“å‡ºï¼š**AB**
</details>

---

## 10. å¸¸è§é”™è¯¯æ€»ç»“

> [!danger] åˆå­¦è€…æ˜“é”™ç‚¹

| é”™è¯¯ | è¯´æ˜ |
|------|------|
| å¿˜è®° `break` | å¯¼è‡´æ„å¤–ç©¿é€ |
| `case` åè·Ÿå˜é‡ | `case` å€¼å¿…é¡»æ˜¯**ç¼–è¯‘æœŸå¸¸é‡**ï¼ˆå¦‚å­—é¢é‡ã€`final` å˜é‡ï¼‰ |
| å¯¹ä¸æ”¯æŒçš„ç±»å‹ä½¿ç”¨ `switch` | å¦‚ `double`ã€`boolean`ï¼ˆJava ä¸å…è®¸ï¼ï¼‰ |
| åœ¨ `switch` ä¸­å£°æ˜é‡å¤å˜é‡ | æ¯ä¸ª `case` ä¸æ˜¯ç‹¬ç«‹ä½œç”¨åŸŸï¼Œéœ€ç”¨ `{}` åŒ…è£¹ |

---
