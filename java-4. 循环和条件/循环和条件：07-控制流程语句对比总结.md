
---

# Java 控制流程语句对比总结

> [!info] 本笔记目标
> - 明确 `if` 与 `switch` 的适用场景与区别  
> - 掌握三种循环语句的核心差异与使用时机  
> - 能根据实际问题选择最合适的控制结构

---

## 一、条件语句：`if` vs `switch`

| 对比维度 | `if` / `if-else if-else` | `switch` |
|--------|------------------------|---------|
| **判断类型** | 支持**任意布尔表达式**（如 `x > 10`、`a && b`） | 仅支持**等值判断**（变量 == 常量） |
| **适用场景** | 区间判断、复杂逻辑、混合条件 | 离散值匹配（如菜单、状态码、星期） |
| **数据类型** | 任何可生成 `boolean` 的表达式 | `byte`、`short`、`int`、`char`、`String`（Java 7+）、`enum`（Java 5+） |
| **灵活性** | ✅ 极高（可组合任意条件） | ❌ 仅限单一表达式等值比较 |
| **性能** | 逐个判断条件（O(n)） | 编译后可能优化为**跳转表**（接近 O(1)，性能更高） |
| **可读性** | 分支少时清晰，分支多时冗长 | 多分支时结构清晰、易维护 |
| **穿透风险** | 无 | 有（忘记 `break` 会导致 fall-through） |
| **默认分支** | 用 `else` | 用 `default` |

### ✅ 选择建议：
- 判断 **成绩区间（90~100）**、**年龄范围** → 用 `if`
- 判断 **星期几、菜单选项、HTTP 状态码** → 用 `switch`
- 条件涉及 **逻辑运算（&&, \|\|）** → 只能用 `if`

> 💡 **Java 14+ 提示**：新 `switch` 表达式（`->` 语法）更安全、简洁，推荐新项目使用。

---

## 二、循环语句：`for` vs `while` vs `do-while`

| 对比维度 | `for` | `while` | `do-while` |
|--------|------|--------|-----------|
| **执行顺序** | 先判断条件 → 再执行 | 先判断条件 → 再执行 | **先执行一次** → 再判断条件 |
| **最少执行次数** | 0 次 | 0 次 | **1 次** |
| **适用场景** | **已知循环次数**（如遍历数组、固定次数任务） | **未知次数，条件驱动**（如读文件、用户输入） | **必须至少执行一次**（如输入验证、菜单） |
| **结构特点** | 初始化、条件、更新**写在一起**，结构紧凑 | 条件单独写，初始化和更新分散 | 循环体在前，条件在后 |
| **变量作用域** | 循环变量通常**仅限循环内**（更安全） | 循环变量需在外部声明 | 循环变量需在外部声明 |
| **无限循环写法** | `for (;;)` | `while (true)` | `do { ... } while (true);` |
| **易错点** | 忘记大括号、索引越界 | 忘记更新条件变量 → 死循环 | **忘记结尾分号**、死循环 |

### 🌰 场景示例：
```java
// for：遍历数组（已知长度）
for (int i = 0; i < arr.length; i++) { ... }

// while：读取直到用户输入正确
while (!validInput) { input = getUserInput(); }

// do-while：确保至少输入一次
do {
    password = askPassword();
} while (!isValid(password));
```

### ✅ 选择建议：
| 需求 | 推荐语句 |
|------|--------|
| 遍历数组/集合（带索引） | `for` |
| 遍历集合（只读元素） | **增强型 for（for-each）** |
| 循环次数固定（如 10 次） | `for` |
| 条件满足前一直循环（可能 0 次） | `while` |
| 必须先做一次再判断（如登录） | `do-while` |

---

## 三、一句话总结

> - **`if`**：**万能条件判断**，适合复杂逻辑。  
> - **`switch`**：**等值多选一**，适合离散值匹配。  
> - **`for`**：**计数循环**，次数明确时首选。  
> - **`while`**：**条件循环**，不确定次数时使用。  
> - **`do-while`**：**至少执行一次的循环**，用于输入/菜单等场景。

---

## 四、知识连接建议（Obsidian）

> 给本笔记添加标签：  
> `#java/基础` `#编程/控制流程` `#对比总结`  
> 并双向链接以下笔记：
> - [[循环和条件：01-if 语句]]
> - [[循环和条件：02-switch语句]]
> - [[循环和条件：03-for 循环]]
> - [[循环和条件：04-while循环]]
> - [[循环和条件：05-do-while 循环]]

---

> 💡 **学习提示**：  
> 在实际编码中，**可读性 > 微优化**。优先选择逻辑清晰、意图明确的控制结构，而非追求“性能最高”。现代 JVM 优化能力很强，结构清晰的代码更容易维护和调试。

