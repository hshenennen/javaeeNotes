
---

## ğŸ“Œ é¢˜ç›®ï¼šæŸ¥æ‰¾å­ä¸²é¦–æ¬¡å‡ºç°çš„ä½ç½®ï¼ˆä¸ä½¿ç”¨ `indexOf()`ï¼‰

**é¢˜ç›®æè¿°**ï¼š  
ç¼–å†™ä¸€ä¸ª Java æ–¹æ³•ï¼Œæ¥æ”¶ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼š**ä¸»ä¸² `haystack`** å’Œ **å­ä¸² `needle`**ï¼Œè¿”å› `needle` åœ¨ `haystack` ä¸­**ç¬¬ä¸€æ¬¡å‡ºç°çš„èµ·å§‹ç´¢å¼•**ã€‚å¦‚æœæœªæ‰¾åˆ°ï¼Œè¿”å› `-1`ã€‚

**ç¤ºä¾‹**ï¼š
- `haystack = "abcdefg"`, `needle = "cde"` â†’ è¿”å› `2`
- `haystack = "hello"`, `needle = "ll"` â†’ è¿”å› `2`
- `haystack = "aaaa"`, `needle = "aa"` â†’ è¿”å› `0`
- `haystack = "hello"`, `needle = "xyz"` â†’ è¿”å› `-1`

> ğŸ’¡ æ³¨æ„ï¼šå¦‚æœ `needle` ä¸ºç©ºå­—ç¬¦ä¸² `""`ï¼Œé€šå¸¸çº¦å®šè¿”å› `0`ï¼ˆä¸ Java çš„ `indexOf` è¡Œä¸ºä¸€è‡´ï¼‰ã€‚

---

## ğŸ’¡ æ€è·¯åˆ†æï¼ˆæœ´ç´ å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•ï¼‰

1. **ç‰¹æ®Šæƒ…å†µå¤„ç†**ï¼š
   - å¦‚æœ `needle` ä¸ºç©ºï¼Œè¿”å› `0`
   - å¦‚æœ `needle` æ¯” `haystack` é•¿ï¼Œç›´æ¥è¿”å› `-1`

2. **å¤–å±‚å¾ªç¯**ï¼šéå† `haystack` ä¸­**å¯èƒ½çš„èµ·å§‹ä½ç½®**  
   - èµ·å§‹ä½ç½®èŒƒå›´ï¼š`0` åˆ° `haystack.length() - needle.length()`

3. **å†…å±‚å¾ªç¯**ï¼šä»å½“å‰èµ·å§‹ä½ç½®å¼€å§‹ï¼Œé€ä¸ªæ¯”è¾ƒ `needle` çš„æ¯ä¸ªå­—ç¬¦æ˜¯å¦åŒ¹é…

4. **ä¸€æ—¦å®Œå…¨åŒ¹é…**ï¼Œç«‹å³è¿”å›å½“å‰èµ·å§‹ç´¢å¼•  
5. **å…¨éƒ¨å°è¯•å¤±è´¥**ï¼Œè¿”å› `-1`

> âœ… æ—¶é—´å¤æ‚åº¦ï¼šæœ€å O(nÃ—m)ï¼Œå…¶ä¸­ n æ˜¯ä¸»ä¸²é•¿åº¦ï¼Œm æ˜¯å­ä¸²é•¿åº¦  
> âœ… ç©ºé—´å¤æ‚åº¦ï¼šO(1)

---

## âœ… å®Œæ•´å®ç°ä»£ç 

```java
public class SubstringSearch {
    public static int findSubstring(String haystack, String needle) {
        // è¾¹ç•Œæƒ…å†µï¼šç©ºå­ä¸²
        if (needle == null || needle.isEmpty()) {
            return 0;
        }
        // è¾¹ç•Œæƒ…å†µï¼šå­ä¸²æ¯”ä¸»ä¸²é•¿
        if (needle.length() > haystack.length()) {
            return -1;
        }

        int n = haystack.length();
        int m = needle.length();

        // éå†æ‰€æœ‰å¯èƒ½çš„èµ·å§‹ä½ç½®
        for (int i = 0; i <= n - m; i++) {
            boolean found = true;
            // æ£€æŸ¥ä» i å¼€å§‹çš„ m ä¸ªå­—ç¬¦æ˜¯å¦åŒ¹é… needle
            for (int j = 0; j < m; j++) {
                if (haystack.charAt(i + j) != needle.charAt(j)) {
                    found = false;
                    break; // ä¸€æ—¦ä¸åŒ¹é…ï¼Œè·³å‡ºå†…å±‚å¾ªç¯
                }
            }
            if (found) {
                return i; // æ‰¾åˆ°ï¼Œè¿”å›èµ·å§‹ç´¢å¼•
            }
        }

        return -1; // æœªæ‰¾åˆ°
    }

    public static void main(String[] args) {
        System.out.println(findSubstring("abcdefg", "cde")); // 2
        System.out.println(findSubstring("hello", "ll"));    // 2
        System.out.println(findSubstring("aaaa", "aa"));     // 0
        System.out.println(findSubstring("hello", "xyz"));   // -1
        System.out.println(findSubstring("hello", ""));      // 0
    }
}
```

---

## ğŸ§ª è¾¹ç•Œæµ‹è¯•ç”¨ä¾‹å»ºè®®

| ä¸»ä¸² `haystack` | å­ä¸² `needle` | é¢„æœŸç»“æœ |
|------------------|----------------|--------|
| `"hello"`        | `"ll"`         | `2`    |
| `"a"`            | `"a"`          | `0`    |
| `"abc"`          | `"abcd"`       | `-1`   |
| `""`             | `""`           | `0`    |
| `"abc"`          | `""`           | `0`    |
| `""`             | `"a"`          | `-1`   |

---

## ğŸ“š çŸ¥è¯†ç‚¹æ€»ç»“

| æ¦‚å¿µ | è¯´æ˜ |
|------|------|
| åŒé‡å¾ªç¯ | å¤–å±‚æ§åˆ¶èµ·å§‹ä½ç½®ï¼Œå†…å±‚é€å­—ç¬¦åŒ¹é… |
| `charAt(i)` | å®‰å…¨è®¿é—®å­—ç¬¦ä¸²æŒ‡å®šä½ç½®å­—ç¬¦ |
| è¾¹ç•Œæ¡ä»¶ | ç©ºå­—ç¬¦ä¸²ã€å­ä¸²æ›´é•¿ç­‰éœ€æå‰å¤„ç† |
| æå‰ç»ˆæ­¢ | å†…å±‚ä¸€æ—¦ä¸åŒ¹é…å°± `break`ï¼Œæå‡æ•ˆç‡ |
| ç®—æ³•æ€æƒ³ | æœ´ç´ å­—ç¬¦ä¸²åŒ¹é…ï¼ˆBrute Forceï¼‰ |

---

## ğŸ§  è¿›é˜¶æ€è€ƒï¼ˆå¯é€‰ï¼‰

- **KMP ç®—æ³•**ï¼šæ›´é«˜æ•ˆçš„å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•ï¼ˆæ—¶é—´å¤æ‚åº¦ O(n+m)ï¼‰ï¼Œé€‚åˆå¤„ç†å¤§æ–‡æœ¬ï¼Œä½†å®ç°è¾ƒå¤æ‚ã€‚
- **å¤§å°å†™ä¸æ•æ„ŸåŒ¹é…**ï¼šå¯å…ˆå°†ä¸¤å­—ç¬¦ä¸²è½¬ä¸ºå°å†™å†æ¯”è¾ƒã€‚
- **æ”¯æŒé€šé…ç¬¦**ï¼šå¦‚ `?` åŒ¹é…ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼ˆæ›´å¤æ‚ï¼‰ã€‚

> åˆå­¦è€…æŒæ¡æœ´ç´ ç®—æ³•å³å¯ï¼

---

