
---

## 📌 题目：验证简化版邮箱格式

**题目描述**：  
编写一个 Java 方法，判断一个字符串是否符合**简化版邮箱格式**，需同时满足以下条件：

1. 字符串中**包含 `@` 符号**
2. `@` **不在开头**（即索引 ≠ 0）
3. `@` **不在结尾**（即索引 ≠ 字符串长度 - 1）
4. 在 `@` **之后**（右侧）**至少包含一个 `.`（点）**

> ⚠️ 注意：不要求 `.com`、`.org` 等具体后缀，只要 `@` 后有 `.` 即可。

**示例**：
- `"user@example.com"` → ✅ `true`
- `"@example.com"` → ❌ `false`（`@` 在开头）
- `"user@.com"` → ✅ `true`（`@` 后有 `.`）
- `"user@examplecom"` → ❌ `false`（`@` 后无 `.`）
- `"user@example."` → ✅ `true`（`@` 后有 `.`，即使在结尾）
- `"userexample.com"` → ❌ `false`（没有 `@`）

---

## 💡 实现思路

1. 使用 `indexOf('@')` 找到 `@` 的位置
2. 如果没找到（返回 `-1`），直接返回 `false`
3. 检查 `@` 是否在开头或结尾
4. 在 `@` 之后的子串中查找 `.`：
   - 可用 `indexOf('.', atIndex + 1)` 检查 `@` 后是否存在 `.`
5. 所有条件满足则返回 `true`

> ✅ 不使用正则表达式（初学者友好）  
> ✅ 仅用基础字符串方法：`indexOf()`, `length()`

---

## ✅ 完整实现代码

```java
public class EmailValidator {

    public static boolean isValidEmail(String email) {
        if (email == null || email.isEmpty()) {
            return false;
        }

        int atIndex = email.indexOf('@');
        
        // 1. 必须包含 @
        if (atIndex == -1) {
            return false;
        }
        
        // 2. @ 不能在开头或结尾
        if (atIndex == 0 || atIndex == email.length() - 1) {
            return false;
        }
        
        // 3. @ 之后必须包含至少一个 '.'
        int dotIndex = email.indexOf('.', atIndex + 1);
        if (dotIndex == -1) {
            return false;
        }

        return true;
    }

    public static void main(String[] args) {
        // 测试用例
        System.out.println(isValidEmail("user@example.com")); // true
        System.out.println(isValidEmail("@example.com"));     // false
        System.out.println(isValidEmail("user@"));            // false
        System.out.println(isValidEmail("userexample.com"));  // false
        System.out.println(isValidEmail("user@.com"));        // true
        System.out.println(isValidEmail("user@example."));    // true
        System.out.println(isValidEmail(""));                 // false
        System.out.println(isValidEmail(null));               // false
    }
}
```

---

## 🧪 边界测试用例汇总

| 输入 | 预期结果 | 原因 |
|------|--------|------|
| `"user@example.com"` | `true` | 符合所有条件 |
| `"@example.com"` | `false` | `@` 在开头 |
| `"user@"` | `false` | `@` 在结尾 |
| `"userexample.com"` | `false` | 无 `@` |
| `"user@com"` | `false` | `@` 后无 `.` |
| `"user@.com"` | `true` | `@` 后有 `.` |
| `"user@example."` | `true` | `@` 后有 `.`（即使在结尾）|
| `""` 或 `null` | `false` | 空输入 |

---

## 📚 知识点总结

| 方法 / 概念 | 说明 |
|------------|------|
| `String.indexOf(char)` | 返回首次出现的索引，未找到返回 `-1` |
| `indexOf(char, fromIndex)` | 从指定位置开始查找（用于找 `@` 后的 `.`）|
| 逻辑组合 | 多个条件需**同时满足**，用 `if` 逐层判断 |
| 空值与边界检查 | 先处理 `null` 和空字符串，避免异常 |

---

## 🧠 进阶思考（可选）

- **更严格的验证**：要求 `.` 不能紧跟在 `@` 后（如 `"user@.com"` 视为无效）
- **多个 `@` 处理**：真实邮箱只允许一个 `@`，可加判断 `lastIndexOf('@') == atIndex`
- **使用正则表达式**（后续学习）：
  ```java
  return email != null && email.matches("^[^@]+@[^@]+\\.[^@]+$");
  ```

> 初学者建议先掌握逻辑判断方式，正则可后续补充。

---
