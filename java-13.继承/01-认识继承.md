
---

## 📌 认识继承（Inheritance）

> **继承** 是面向对象编程（OOP）的核心机制之一，允许一个类（**子类 / 派生类**）**复用**另一个类（**父类 / 基类 / 超类**）的**成员变量和成员方法**，实现代码复用与层次化设计。

> 🎯 核心思想：**“is-a” 关系**  
> 例如：`Dog` is a `Animal`，`Student` is a `Person`

---

### ✅ 为什么需要继承？

| 问题 | 继承的解决方案 |
|------|----------------|
| 代码重复 | 将公共属性/方法提取到父类 |
| 扩展困难 | 子类在父类基础上新增或修改行为 |
| 多态基础 | 为运行时多态（方法重写）提供结构支持 |

```java
// 不用继承：重复代码
class Dog { void eat() { System.out.println("吃狗粮"); } }
class Cat { void eat() { System.out.println("吃猫粮"); } }

// 使用继承：公共行为上提
class Animal { void eat() { System.out.println("吃东西"); } }
class Dog extends Animal { }
class Cat extends Animal { }
```

---

### 🔧 继承的基本语法

```java
// 父类（超类）
class Animal {
    protected String name;

    public void sleep() {
        System.out.println(name + " 在睡觉");
    }
}

// 子类（派生类）
class Dog extends Animal { // ← 使用 extends 关键字
    public void bark() {
        System.out.println(name + " 汪汪叫");
    }
}
```

> ✅ 使用方式：
> ```java
> Dog dog = new Dog();
> dog.name = "旺财";
> dog.sleep(); // 继承自 Animal
> dog.bark();  // 自己的方法
> ```

---

### 🔑 继承的核心特点

| 特性       | 说明                                             |
| -------- | ---------------------------------------------- |
| **单继承**  | Java 只支持**一个直接父类**（`class A extends B`）        |
| **传递性**  | `C extends B`, `B extends A` → `C` 也继承 `A` 的成员 |
| **代码复用** | 子类自动拥有父类的非私有成员（字段 + 方法）                        |
| **可扩展性** | 子类可添加新成员或重写父类方法                                |
| **多态基础** | 父类引用可指向子类对象（`Animal a = new Dog();`）           |

> ⚠️ Java **不支持多继承**（避免“菱形问题”），但可通过 **接口（Interface）** 实现多重行为。

---

### 🧱 继承中的成员访问规则

| 父类成员访问修饰符 | 子类是否能继承？ |
|------------------|----------------|
| `public`         | ✅ 是 |
| `protected`      | ✅ 是（即使不同包） |
| `default`（包私有）| ✅ 同包内可以 |
| `private`        | ❌ 否（但可通过 getter/setter 间接访问） |

> 💡 **最佳实践**：父类字段尽量用 `protected` 或 `private + getter/setter`

---

### 🧬 构造方法与继承

- **子类构造方法必须调用父类构造方法**
- 默认调用父类**无参构造**（`super()`）
- 若父类无无参构造，子类必须**显式调用** `super(...)`

```java
class Animal {
    public Animal(String name) {
        this.name = name;
    }
}

class Dog extends Animal {
    public Dog(String name) {
        super(name); // ← 必须第一行！
    }
}
```

> ⚠️ `super()` 必须是子类构造方法的**第一条语句**

---

### 🔄 方法重写（Override）——继承的延伸

- 子类可**重新定义**父类的方法（需满足重写规则）
- 实现**多态**：同一方法在不同子类中有不同行为

```java
class Animal {
    public void makeSound() {
        System.out.println("动物发声");
    }
}

class Dog extends Animal {
    @Override
    public void makeSound() {
        System.out.println("汪汪！");
    }
}
```

---

### ⚠️ 继承的注意事项

| 问题 | 说明 |
|------|------|
| **不要为了复用而滥用继承** | 优先考虑“**组合优于继承**”（Composition over Inheritance） |
| **继承破坏封装性** | 子类依赖父类实现细节，父类修改可能影响子类 |
| **final 类不能被继承** | 如 `String`, `Math` 等工具类 |
| **private 方法不能被重写** | 因为子类不可见 |

> ✅ 何时使用继承？
> - 存在清晰的 **is-a** 关系
> - 需要实现**多态**
> - 父类提供**稳定、通用**的行为

---

### 🔁 继承 vs 组合（对比）

| 方式 | 说明 | 示例 |
|------|------|------|
| **继承** | “is-a” 关系 | `Car` is a `Vehicle` |
| **组合** | “has-a” 关系 | `Car` has an `Engine` |

```java
// 组合示例（更灵活）
class Engine {
    void start() { System.out.println("引擎启动"); }
}

class Car {
    private Engine engine = new Engine(); // 组合
    void start() {
        engine.start();
    }
}
```

> 💡 现代设计更推荐 **组合**，因为更灵活、解耦、易于测试。

---

### 🏷️ Obsidian 标签建议
```markdown
#Java #继承 #Inheritance #面向对象 #OOP #extends #代码复用 #Java11
```

---

  ```markdown
  继承是实现 [[方法的重写]] 和 [[多态]] 的基础，通过 `extends` 关键字建立 [[is-a 关系]]。
  ```

---

### ✅ 总结口诀
> **“继承用 extends，子类复用父；  
> is-a 才使用，单继承要记住；  
> 构造先 super，重写靠 Override；  
> 组合更灵活，慎用防耦合。”**

---
