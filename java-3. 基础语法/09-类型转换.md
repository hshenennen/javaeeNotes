
---

# Java ç±»å‹è½¬æ¢ï¼ˆType Conversionï¼‰

> [!info] å­¦ä¹ ç›®æ ‡
> - ç†è§£ä»€ä¹ˆæ˜¯ç±»å‹è½¬æ¢
> - æŒæ¡**è‡ªåŠ¨ç±»å‹æå‡ï¼ˆéšå¼è½¬æ¢ï¼‰**
> - å­¦ä¼š**å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼ˆæ˜¾å¼è½¬æ¢ï¼‰**
> - é¿å…å¸¸è§ç±»å‹è½¬æ¢é”™è¯¯ï¼ˆå¦‚ç²¾åº¦ä¸¢å¤±ã€æº¢å‡ºï¼‰
> - äº†è§£åŸºæœ¬ç±»å‹ä¸å­—ç¬¦ä¸²ä¹‹é—´çš„è½¬æ¢

---

## 1. ä¸ºä»€ä¹ˆéœ€è¦ç±»å‹è½¬æ¢ï¼Ÿ

Java æ˜¯**å¼ºç±»å‹è¯­è¨€**ï¼Œä¸åŒæ•°æ®ç±»å‹ä¸èƒ½ç›´æ¥æ··ç”¨ã€‚  
ä½†åœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦å°†ä¸€ç§ç±»å‹è½¬æ¢ä¸ºå¦ä¸€ç§ç±»å‹ï¼Œä¾‹å¦‚ï¼š

- å°† `int` èµ‹å€¼ç»™ `double`
- å°† `double` å­˜å…¥ `int` å˜é‡
- æŠŠæ•°å­—å˜æˆå­—ç¬¦ä¸²æ˜¾ç¤º

---

## 2. ä¸¤ç§ç±»å‹è½¬æ¢æ–¹å¼

| ç±»å‹       | åç§°              | æ˜¯å¦å®‰å…¨         | æ˜¯å¦éœ€è¦è¯­æ³•        | ç¤ºä¾‹                            |
| -------- | --------------- | ------------ | ------------- | ----------------------------- |
| **è‡ªåŠ¨è½¬æ¢** | éšå¼è½¬æ¢ï¼ˆWideningï¼‰  | âœ… å®‰å…¨ï¼ˆæ— æ•°æ®ä¸¢å¤±ï¼‰  | âŒ ä¸éœ€è¦         | `int â†’ long â†’ float â†’ double` |
| **å¼ºåˆ¶è½¬æ¢** | æ˜¾å¼è½¬æ¢ï¼ˆNarrowingï¼‰ | âš ï¸ å¯èƒ½ä¸¢å¤±ç²¾åº¦æˆ–æº¢å‡º | âœ… éœ€è¦ `(ç›®æ ‡ç±»å‹)` | `(int) 3.14`                  |

---

## 3. è‡ªåŠ¨ç±»å‹è½¬æ¢ï¼ˆéšå¼è½¬æ¢ï¼‰

å½“**å°èŒƒå›´ç±»å‹ â†’ å¤§èŒƒå›´ç±»å‹**æ—¶ï¼ŒJava è‡ªåŠ¨è½¬æ¢ã€‚

### è½¬æ¢æ–¹å‘ï¼ˆå®‰å…¨é¡ºåºï¼‰ï¼š
```
byte â†’ short â†’ int â†’ long â†’ float â†’ double
char â†’ int â†’ long â†’ float â†’ double
```

> âœ… `char` å’Œ `byte/short` ä¹‹é—´**ä¸èƒ½è‡ªåŠ¨äº’è½¬**ï¼Œä½†éƒ½å¯ä»¥è½¬æˆ `int`

### ğŸŒ° ç¤ºä¾‹
```java
int a = 100;
double d = a;        // è‡ªåŠ¨ï¼šint â†’ double
long l = a;          // è‡ªåŠ¨ï¼šint â†’ long
float f = 10;        // è‡ªåŠ¨ï¼šint â†’ float

char c = 'A';
int code = c;        // è‡ªåŠ¨ï¼šchar â†’ intï¼ˆUnicode å€¼ 65ï¼‰
```

---

## 4. å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼ˆæ˜¾å¼è½¬æ¢ï¼‰

å½“**å¤§èŒƒå›´ç±»å‹ â†’ å°èŒƒå›´ç±»å‹**æ—¶ï¼Œå¿…é¡»**æ‰‹åŠ¨å¼ºåˆ¶è½¬æ¢**ï¼Œæ ¼å¼ï¼š

```java
(ç›®æ ‡ç±»å‹) è¡¨è¾¾å¼
```

### ğŸŒ° ç¤ºä¾‹
```java
double pi = 3.14159;
int n = (int) pi;    // å¼ºåˆ¶ï¼šdouble â†’ intï¼Œç»“æœä¸º 3ï¼ˆå°æ•°éƒ¨åˆ†ç›´æ¥æˆªæ–­ï¼ï¼‰

long big = 100L;
byte b = (byte) big; // å¼ºåˆ¶ï¼šlong â†’ byteï¼Œå¦‚æœå€¼è¶…å‡º -128~127 ä¼šæº¢å‡ºï¼
```

### âš ï¸ æ³¨æ„ï¼šå¯èƒ½ä¸¢å¤±æ•°æ®ï¼
```java
int x = 300;
byte y = (byte) x;   // 300 è¶…å‡º byte èŒƒå›´ â†’ å®é™…ç»“æœæ˜¯ 44ï¼ˆæº¢å‡ºï¼‰
System.out.println(y); // è¾“å‡º 44
```

> ğŸ’¡ **å¼ºåˆ¶è½¬æ¢ä¸ä¼šå››èˆäº”å…¥ï¼Œè€Œæ˜¯ç›´æ¥æˆªæ–­äºŒè¿›åˆ¶ä½ï¼**

---

## 5. è¡¨è¾¾å¼ä¸­çš„è‡ªåŠ¨æå‡

åœ¨ç®—æœ¯è¡¨è¾¾å¼ä¸­ï¼Œ**æ‰€æœ‰ byteã€shortã€char ä¼šå…ˆè‡ªåŠ¨æå‡ä¸º int**ï¼

### ğŸŒ° ç¤ºä¾‹
```java
byte b1 = 10;
byte b2 = 20;
// byte sum = b1 + b2; // âŒ ç¼–è¯‘é”™è¯¯ï¼b1+b2 ç»“æœæ˜¯ int
int sum = b1 + b2;      // âœ… æ­£ç¡®

// å¦‚æœéè¦å­˜å› byteï¼Œå¿…é¡»å¼ºåˆ¶è½¬æ¢ï¼š
byte sum2 = (byte)(b1 + b2);
```

> âœ… è§„åˆ™ï¼š**byte + byte â†’ int**ï¼Œ**char + int â†’ int**

---

## 6. åŸºæœ¬ç±»å‹ â†” å­—ç¬¦ä¸² è½¬æ¢

### ğŸ”¹ åŸºæœ¬ç±»å‹ â†’ String
```java
int num = 42;
String s1 = String.valueOf(num);     // æ¨è
String s2 = "" + num;                // åˆ©ç”¨å­—ç¬¦ä¸²æ‹¼æ¥ï¼ˆç®€å•ä½†ä¸é«˜æ•ˆï¼‰
String s3 = Integer.toString(num);   // é’ˆå¯¹æ•´æ•°çš„ä¸“ç”¨æ–¹æ³•
```

### ğŸ”¹ String â†’ åŸºæœ¬ç±»å‹
```java
String str = "123";
int a = Integer.parseInt(str);       // å­—ç¬¦ä¸² â†’ int
double d = Double.parseDouble(str);  // å­—ç¬¦ä¸² â†’ double
boolean b = Boolean.parseBoolean("true"); // â†’ true

// âš ï¸ å¦‚æœå­—ç¬¦ä¸²ä¸æ˜¯æœ‰æ•ˆæ•°å­—ï¼Œä¼šæŠ›å‡º NumberFormatExceptionï¼
// Integer.parseInt("abc"); // è¿è¡Œæ—¶é”™è¯¯ï¼
```

---

## 7. å¸¸è§é”™è¯¯ä¸é™·é˜±

> [!danger] åˆå­¦è€…é«˜é¢‘é”™è¯¯

| é”™è¯¯ | è¯´æ˜ | æ­£ç¡®åšæ³• |
|------|------|--------|
| `byte b = 10 + 20;` | âŒ ç¼–è¯‘é”™è¯¯ï¼ˆ10+20 æ˜¯ intï¼‰ | `byte b = (byte)(10 + 20);` |
| `float f = 3.14;` | âŒ 3.14 é»˜è®¤æ˜¯ double | `float f = 3.14f;` |
| `int a = (int) "123";` | âŒ ä¸èƒ½ç›´æ¥å¼ºè½¬å­—ç¬¦ä¸² | `int a = Integer.parseInt("123");` |
| å¿½ç•¥æº¢å‡º | `(byte) 256` â†’ ç»“æœæ˜¯ 0 | è½¬æ¢å‰æ£€æŸ¥èŒƒå›´ |

---

## 8. å°ç»ƒä¹ 

å†™å‡ºä»¥ä¸‹ä»£ç çš„è¾“å‡ºï¼š

```java
char c = '5';
int i = c;                // 1
double d = i;             // 2
int j = (int) d;          // 3
String s = "" + j;        // 4
int k = Integer.parseInt(s); // 5
System.out.println(k);
```

<details>
<summary>âœ… ç­”æ¡ˆï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary>

- `'5'` çš„ Unicode æ˜¯ 53
- æ‰€ä»¥ `i = 53`, `d = 53.0`, `j = 53`, `s = "53"`, `k = 53`
- è¾“å‡ºï¼š**53**
</details>

---

## 9. æ€»ç»“å›¾ï¼šç±»å‹è½¬æ¢å…³ç³»

```
        byte â†’ short â†’ int â†’ long â†’ float â†’ double
          â†—
       char
```

- **å‘å³ï¼šè‡ªåŠ¨è½¬æ¢ï¼ˆå®‰å…¨ï¼‰**
- **å‘å·¦ï¼šå¿…é¡»å¼ºåˆ¶è½¬æ¢ï¼ˆå±é™©ï¼‰**

---
