
---

# Java 运算符（Operators）

> [!info] 学习目标
> - 掌握 Java 中常见的运算符类型
> - 理解运算符的优先级和结合性
> - 能正确使用算术、赋值、比较、逻辑等运算符
> - 避免常见运算错误（如整数除法、自增陷阱）

---

## 1. 什么是运算符？

**运算符** 是用于对变量或值进行操作的符号。  
例如：`+` 用于相加，`==` 用于比较是否相等。

Java 运算符主要分为以下几类：

- 算术运算符
- 赋值运算符
- 比较（关系）运算符
- 逻辑运算符
- 位运算符（初学者可略，了解即可）
- 三元运算符

---

## 2. 算术运算符（Arithmetic Operators）

用于基本数学运算。

| 运算符 | 名称 | 示例 | 说明 |
|--------|------|------|------|
| `+` | 加 | `a + b` | 也可用于字符串拼接 |
| `-` | 减 | `a - b` | |
| `*` | 乘 | `a * b` | |
| `/` | 除 | `a / b` | **整数除法会截断小数部分！** |
| `%` | 取模（余数） | `a % b` | 常用于判断奇偶、循环边界 |
| `++` | 自增 | `a++` 或 `++a` | 值加 1 |
| `--` | 自减 | `a--` 或 `--a` | 值减 1 |

### 🌰 示例
```java
int a = 10, b = 3;
System.out.println(a / b);   // 输出 3（不是 3.333！）
System.out.println(a % b);   // 输出 1
System.out.println("Hello" + " World"); // 字符串拼接：Hello World
```

### ⚠️ 自增/自减区别
```java
int x = 5;
int y = x++; // 先用 x 的值（5），再自增 → y=5, x=6
int z = ++x; // 先自增 x（7），再赋值 → z=7, x=7
```

---

## 3. 赋值运算符（Assignment Operators）

用于给变量赋值。

| 运算符 | 等价写法 | 说明 |
|--------|--------|------|
| `=` | `a = 5` | 基本赋值 |
| `+=` | `a = a + 5` | 加后赋值 |
| `-=` | `a = a - 5` | 减后赋值 |
| `*=` | `a = a * 5` | 乘后赋值 |
| `/=` | `a = a / 5` | 除后赋值 |
| `%=` | `a = a % 5` | 取模后赋值 |

### 🌰 示例
```java
int score = 100;
score += 10;  // 相当于 score = score + 10 → 110
score %= 20;  // 相当于 score = score % 20 → 10
```

---

## 4. 比较运算符（Relational Operators）

用于比较两个值，**结果是 `boolean` 类型（true/false）**。

| 运算符 | 含义 | 示例 |
|--------|------|------|
| `==` | 等于 | `a == b` |
| `!=` | 不等于 | `a != b` |
| `>` | 大于 | `a > b` |
| `<` | 小于 | `a < b` |
| `>=` | 大于等于 | `a >= b` |
| `<=` | 小于等于 | `a <= b` |

> [!warning] 注意
> - **基本类型**比较值，**引用类型**（如 `String`）用 `==` 比较的是**内存地址**！  
> - 比较字符串内容应使用 `.equals()` 方法。

```java
String s1 = "hello";
String s2 = new String("hello");
System.out.println(s1 == s2);      // false（地址不同）
System.out.println(s1.equals(s2)); // true（内容相同）
```

---

## 5. 逻辑运算符（Logical Operators）

用于组合多个布尔表达式。

| 运算符 | 名称 | 说明 | 示例 |
|--------|------|------|------|
| `&&` | 逻辑与 | 两边都为 true 才返回 true（**短路**） | `a > 0 && b < 10` |
| `||` | 逻辑或 | 任一边为 true 就返回 true（**短路**） | `a == 0 || b == 0` |
| `!` | 逻辑非 | 取反 | `!(a > 5)` |

### 🔍 短路特性（Short-circuit）
- `&&`：如果左边为 `false`，右边**不会执行**
- `||`：如果左边为 `true`，右边**不会执行**

```java
int x = 0;
if (x != 0 && 10 / x > 2) { // 安全！不会除零
    // ...
}
```

---

## 6. 三元运算符（Ternary Operator）

简洁的 `if-else` 写法。

```java
条件 ? 表达式1 : 表达式2
```

### 🌰 示例
```java
int age = 18;
String status = (age >= 18) ? "成年人" : "未成年人";
System.out.println(status); // 成年人
```

> ✅ 适用于简单条件赋值，避免嵌套过深。

---

## 7. 运算符优先级（简表）

优先级从高到低（初学者记住常用即可）：

| 优先级 | 运算符 | 说明 |
|--------|--------|------|
| 最高 | `()` | 括号优先 |
| ↓ | `++`, `--`, `!` | 自增/自减、逻辑非 |
| ↓ | `*`, `/`, `%` | 乘除模 |
| ↓ | `+`, `-` | 加减（也用于字符串拼接） |
| ↓ | `<`, `<=`, `>`, `>=` | 比较 |
| ↓ | `==`, `!=` | 相等判断 |
| ↓ | `&&` | 逻辑与 |
| ↓ | `||` | 逻辑或 |
| 最低 | `=`, `+=`, `-=` 等 | 赋值 |

> 💡 **建议**：不确定时加括号 `()`，提高可读性和准确性！

```java
// 不清晰
int result = a + b * c > 10 ? 1 : 0;

// 清晰
int result = ((a + (b * c)) > 10) ? 1 : 0;
```

---

## 8. 小练习

写出以下代码的输出：

```java
int x = 5;
int y = ++x * 2 + x-- % 3;
System.out.println("x = " + x + ", y = " + y);
```

<details>
<summary>✅ 答案</summary>

 `++x` → x 变为 6
- `++x * 2` → 6 * 2 = 12
- `x--` 此时 x 是 6，参与运算后变为 5
- `6 % 3 = 0`
- y = 12 + 0 = 12
- 最终：`x = 5`, `y = 12`
</details>

---

## 9. 常见误区提醒

> [!danger] 初学者易错点
> - ❌ 用 `=` 而不是 `==` 做比较：`if (a = 5)` → 编译错误（除非 a 是 boolean）
> - ❌ 整数除法丢失小数：`5 / 2 = 2`，不是 `2.5`
> - ❌ 对 `String` 用 `==` 比较内容
> - ❌ 忽略运算符优先级导致逻辑错误

---
